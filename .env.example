# 綠界 ECPay 自動支付系統 - 環境配置範例
# ECPay Auto Payment System - Environment Configuration Example

# ========================================
# 基本環境設定
# ========================================
NODE_ENV=development  # development | production
PORT=3000
DOMAIN=localhost

# ========================================
# API 路由設定
# ========================================
DEFAULT_API_ROUTER_PREFIX=/api
DEFAULT_UPLOAD_TEMP_DIR=./tmp
DEFAULT_UPLOAD_MAX_SIZE=10485760
LOCALES_PATH=./resources/langs
FALLBACK_LOCALE=dev

# ========================================
# 日誌設定
# ========================================
# 開發環境
DEFAULT_LOGGER_PATH=./logs/app.log
LOG_LEVEL=debug
DEBUG_MODE=true
ENABLE_SWAGGER=true

# 生產環境 (NODE_ENV=production 時使用)
# DEFAULT_LOGGER_PATH=/var/log/auto-payment/app.log
# LOG_LEVEL=info
# DEBUG_MODE=false
# ENABLE_SWAGGER=false

# ========================================
# 資料庫設定 - MongoDB
# ========================================
# 開發環境
DEFAULT_MONGO_URI=mongodb://localhost:27017
DEFAULT_MONGO_DB_NAME=auto_payment_dev
DEFAULT_MONGO_MIN_POOL=1
DEFAULT_MONGO_MAX_POOL=10
DEFAULT_MONGO_CONN_TIMEOUT=30000
DEFAULT_MONGO_USER=
DEFAULT_MONGO_PASS=

# 生產環境 (NODE_ENV=production 時使用)
# DEFAULT_MONGO_URI=mongodb://your-production-db-host:27017
# DEFAULT_MONGO_DB_NAME=auto_payment_prod
# DEFAULT_MONGO_USER=your_db_user
# DEFAULT_MONGO_PASS=your_db_password

# ========================================
# Redis 設定
# ========================================
# 開發環境
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# 生產環境 (NODE_ENV=production 時使用)
# REDIS_HOST=your-redis-host
# REDIS_PASSWORD=your_redis_password

# ========================================
# 綠界 ECPay 支付閘道配置
# ========================================

# 開發/測試環境 (NODE_ENV=development 時使用)
# 使用官方測試帳號
ECPAY_MERCHANT_ID=2000132
ECPAY_HASH_KEY=5294y06JbISpM5x9
ECPAY_HASH_IV=v77hoKGq4kWxNNIS

# 生產環境 (NODE_ENV=production 時使用)
# 請替換為您的正式商店帳號資訊
# ECPAY_MERCHANT_ID=your_production_merchant_id
# ECPAY_HASH_KEY=your_production_hash_key
# ECPAY_HASH_IV=your_production_hash_iv

# ECPay Webhook URLs
# 開發環境 (可使用 ngrok 或本地 tunnel)
ECPAY_RETURN_URL=https://your-ngrok-url.ngrok.io/api/webhooks/ecpay
ECPAY_CLIENT_BACK_URL=http://localhost:3000/payment/result
ECPAY_ORDER_RESULT_URL=http://localhost:3000/payment/success

# 生產環境 (必須使用 HTTPS)
# ECPAY_RETURN_URL=https://your-domain.com/api/webhooks/ecpay
# ECPAY_CLIENT_BACK_URL=https://your-domain.com/payment/result
# ECPAY_ORDER_RESULT_URL=https://your-domain.com/payment/success

# ========================================
# SSL 憑證設定 (生產環境)
# ========================================
# SSL_CERT_PATH=/path/to/ssl/cert.pem
# SSL_KEY_PATH=/path/to/ssl/key.pem

# ========================================
# 安全設定
# ========================================
# JWT_SECRET=your_super_secure_jwt_secret_at_least_32_characters_long
# ENCRYPTION_KEY=your_32_character_encryption_key_here

# ========================================
# 監控和錯誤追蹤 (生產環境)
# ========================================
# SENTRY_DSN=your_sentry_dsn_for_error_tracking
# NEW_RELIC_LICENSE_KEY=your_new_relic_license_key

# Grafana 儀表板設定
# GRAFANA_ADMIN_PASSWORD=admin

# ========================================
# 測試設定 (開發環境)
# ========================================
TEST_TIMEOUT=30000
ENABLE_E2E_TESTS=true

# ========================================
# 使用說明
# ========================================
# 1. 複製此文件為 .env 並根據環境調整設定
# 2. 開發環境：使用上方未註解的設定
# 3. 生產環境：取消註解生產環境設定並填入正確值
# 4. ECPay 設定：
#    - 開發環境可使用預設測試帳號
#    - 生產環境必須使用您的正式商店資訊
#    - Webhook URL 在生產環境必須使用 HTTPS
# 5. 安全提醒：
#    - 請勿將此文件包含真實的生產環境機敏資料提交到版本控制
#    - 生產環境的機敏資料應透過安全的配置管理系統設定
#    - 定期更換密碼和金鑰
